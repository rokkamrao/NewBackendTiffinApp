2025-11-20 14:02:56,513 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:02:56,550 WARN  [main] [trace=] [user=] o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer - 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/mr_te/.m2/repository/org/json/json/20180130/json-20180130.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/mr_te/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2025-11-20 14:02:56,589 INFO  [main] [trace=] [user=] c.t.a.s.AuthenticationServiceTest - Starting AuthenticationServiceTest using Java 21.0.9 with PID 18624 (started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:02:56,590 DEBUG [main] [trace=] [user=] c.t.a.s.AuthenticationServiceTest - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:02:56,590 INFO  [main] [trace=] [user=] c.t.a.s.AuthenticationServiceTest - The following 1 profile is active: "test"
2025-11-20 14:02:56,662 DEBUG [main] [trace=] [user=] o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@28831d69
2025-11-20 14:02:57,513 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:02:57,569 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 1 JPA repository interface.
2025-11-20 14:02:58,767 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:02:58,915 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:02:58,969 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:02:59,520 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:02:59,579 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:03:00,068 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-20 14:03:00,075 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:03:00,189 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:03:00,270 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:03:03,264 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:03:03,317 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:03:03,329 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:03:03,347 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:03:03,402 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:03:03,411 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:03:03,413 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:03:03,414 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:03:03,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:03:03,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:03:03,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:03:03,477 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:03:04,384 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:03:08,110 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:03:08,338 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:03:08,484 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:03:08,539 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:03:08,697 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:03:08,699 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:03:08,699 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:03:08,707 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:03:08,900 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:03:09,167 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:03:09,285 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:03:09,539 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]
2025-11-20 14:03:09,539 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]]
2025-11-20 14:03:09,539 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:03:09,539 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:03:09,553 INFO  [main] [trace=] [user=] c.t.a.s.AuthenticationServiceTest - Started AuthenticationServiceTest in 13.759 seconds (process running for 15.862)
2025-11-20 14:03:10,223 INFO  [main] [trace=] [user=] c.t.a.service.AuthenticationService - Completing signup for phone: +919876543210
2025-11-20 14:03:10,367 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt" 
    from
        "users" u1_0 
    where
        u1_0."phoneNumber"=?
2025-11-20 14:03:10,532 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "users"
        ("active", "createdAt", "email", "emailVerified", "firstName", "lastLoginAt", "lastName", "password", "phoneNumber", "phoneVerified", "preferredLanguage", "profileImageUrl", "role", "updatedAt", "id") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-20 14:03:10,810 INFO  [main] [trace=] [user=] c.t.a.service.AuthenticationService - Sending OTP to phone: +919876543210
2025-11-20 14:03:10,810 INFO  [main] [trace=] [user=] c.t.a.service.AuthenticationService - Generated OTP for +919876543210: 123426 (expires in 5 minutes)
2025-11-20 14:03:10,900 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@28831d69, started on Thu Nov 20 14:02:56 IST 2025
2025-11-20 14:03:10,904 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:03:10,904 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:03:10,904 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-11-20 14:03:10,904 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]]
2025-11-20 14:03:10,905 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]
2025-11-20 14:03:10,905 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3875816f]
2025-11-20 14:03:10,905 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-11-20 14:03:10,905 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:03:10,905 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:03:10,910 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:03:11,103 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:03:11,106 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:03:11,111 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown initiated...
2025-11-20 14:03:11,113 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown completed.
2025-11-20 14:11:24,486 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:11:24,546 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 28780 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:11:24,546 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:11:24,547 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:11:25,046 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:11:25,101 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 1 JPA repository interface.
2025-11-20 14:11:25,737 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-20 14:11:25,757 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-20 14:11:25,759 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:11:25,760 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:11:25,826 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:11:25,827 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1238 ms
2025-11-20 14:11:25,870 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:11:25,961 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:11:26,019 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:11:26,047 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:11:26,269 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:11:26,297 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:11:26,449 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:11:26,451 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:11:26,472 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:11:26,491 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:11:27,373 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:11:27,387 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:11:27,394 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:11:27,394 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:11:27,408 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:11:27,414 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:11:27,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:11:27,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:11:27,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:11:27,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:11:27,415 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:11:27,431 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:11:27,718 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:11:29,902 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:11:29,970 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:11:30,006 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:11:30,035 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:11:30,102 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:11:30,102 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:11:30,102 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:11:30,108 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:11:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:11:30,254 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:11:30,303 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:11:30,424 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:11:30,424 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:11:30,424 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:11:30,424 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]
2025-11-20 14:11:30,425 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]
2025-11-20 14:11:30,425 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]]
2025-11-20 14:11:30,425 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:11:30,426 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:11:30,426 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:11:30,426 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-20 14:11:30,438 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:11:30,439 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:11:30,439 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-11-20 14:11:30,439 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]]
2025-11-20 14:11:30,439 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]
2025-11-20 14:11:30,439 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@173e3893]
2025-11-20 14:11:30,439 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-11-20 14:11:30,440 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:11:30,440 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:11:30,440 WARN  [main] [trace=] [user=] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-20 14:11:30,442 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:11:30,443 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:11:30,445 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:11:30,447 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown initiated...
2025-11-20 14:11:30,449 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown completed.
2025-11-20 14:11:30,462 INFO  [main] [trace=] [user=] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-20 14:11:30,478 ERROR [main] [trace=] [user=] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-11-20 14:12:09,932 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:12:09,987 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 1860 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:12:09,988 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:12:09,989 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:12:10,534 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:12:10,581 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 34 ms. Found 1 JPA repository interface.
2025-11-20 14:12:11,251 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-20 14:12:11,270 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-20 14:12:11,273 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:12:11,273 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:12:11,335 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:12:11,335 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1303 ms
2025-11-20 14:12:11,379 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:12:11,472 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:12:11,533 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:12:11,562 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:12:11,804 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:12:11,826 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:12:11,988 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:12:11,990 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:12:12,016 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:12:12,035 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:12:12,797 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:12:12,810 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:12:12,814 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:12:12,819 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:12:12,830 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:12:12,836 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:12:12,837 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:12:12,837 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:12:12,838 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:12:12,838 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:12:12,840 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:12:12,855 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:12:13,062 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:12:14,825 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:12:14,902 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:12:14,938 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:12:14,961 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:12:15,025 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:15,026 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:15,028 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:15,030 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:15,117 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:12:15,117 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:12:15,118 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:12:15,118 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:12:15,119 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:12:15,119 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:12:15,119 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:12:15,169 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:12:15,213 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:12:15,335 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:12:15,335 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:12:15,336 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:12:15,336 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]
2025-11-20 14:12:15,336 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]
2025-11-20 14:12:15,337 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]]
2025-11-20 14:12:15,337 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:12:15,338 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:15,338 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:15,338 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-20 14:12:15,351 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:12:15,351 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:12:15,351 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-11-20 14:12:15,352 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]]
2025-11-20 14:12:15,352 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]
2025-11-20 14:12:15,352 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@2590172b]
2025-11-20 14:12:15,352 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-11-20 14:12:15,352 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:15,352 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:15,353 WARN  [main] [trace=] [user=] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-11-20 14:12:15,355 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:12:15,356 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:12:15,358 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:12:15,360 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown initiated...
2025-11-20 14:12:15,363 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown completed.
2025-11-20 14:12:15,372 INFO  [main] [trace=] [user=] o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-11-20 14:12:15,389 ERROR [main] [trace=] [user=] o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-11-20 14:12:53,872 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:12:53,938 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 3948 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:12:53,938 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:12:53,938 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:12:54,481 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:12:54,525 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 1 JPA repository interface.
2025-11-20 14:12:55,152 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 14:12:55,170 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 14:12:55,177 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:12:55,177 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:12:55,237 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:12:55,238 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1256 ms
2025-11-20 14:12:55,276 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:12:55,362 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:12:55,422 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:12:55,451 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:12:55,666 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:12:55,692 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:12:55,840 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:12:55,842 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:12:55,863 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:12:55,888 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:12:56,742 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:12:56,763 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:12:56,767 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:12:56,773 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:12:56,783 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:12:56,789 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:12:56,790 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:12:56,791 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:12:56,793 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:12:56,794 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:12:56,795 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:12:56,810 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:12:57,049 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:12:58,709 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:12:58,778 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:12:58,808 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:12:58,832 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:12:58,890 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:58,892 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:58,893 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:58,894 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:12:58,977 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:12:59,031 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:12:59,077 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:12:59,184 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@357972dc]
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@357972dc]
2025-11-20 14:12:59,184 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@357972dc]]
2025-11-20 14:12:59,184 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:59,184 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:12:59,184 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 14:12:59,215 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 14:12:59,222 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 5.808 seconds (process running for 6.105)
2025-11-20 14:13:59,330 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-20 14:28:05,958 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:28:06,013 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 19120 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:28:06,014 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:28:06,014 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:28:06,505 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:28:06,544 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 1 JPA repository interface.
2025-11-20 14:28:07,157 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 14:28:07,176 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 14:28:07,180 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:28:07,180 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:28:07,245 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:28:07,245 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1191 ms
2025-11-20 14:28:07,287 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:28:07,372 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:28:07,435 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:28:07,466 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:28:07,704 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:28:07,731 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:28:07,885 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:28:07,888 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:28:07,909 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:28:07,926 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:28:08,658 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:28:08,671 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:28:08,675 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:28:08,680 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:28:08,689 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:28:08,696 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:28:08,696 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:28:08,696 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:28:08,696 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:28:08,696 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:28:08,700 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:28:08,715 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:28:08,916 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:28:10,691 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:28:10,761 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:28:10,789 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:28:10,820 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:28:10,882 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:28:10,882 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:28:10,882 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:28:10,882 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:28:10,969 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:28:10,969 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:28:10,969 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:28:10,969 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:28:10,985 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:28:10,985 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:28:10,985 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:28:11,045 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:28:11,083 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:28:11,185 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:28:11,185 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]]
2025-11-20 14:28:11,185 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:28:11,185 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:28:11,185 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 14:28:11,221 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 14:28:11,227 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 5.755 seconds (process running for 6.076)
2025-11-20 14:29:41,471 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:29:41,561 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 22924 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:29:41,562 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:29:41,564 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:29:42,246 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:29:42,319 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 1 JPA repository interface.
2025-11-20 14:29:43,226 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 14:29:43,247 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 14:29:43,250 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:29:43,251 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:29:43,321 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:29:43,321 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1695 ms
2025-11-20 14:29:43,370 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:29:43,465 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:29:43,527 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:29:43,562 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:29:43,805 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:29:43,833 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:29:44,000 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:29:44,001 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:29:44,023 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:29:44,041 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:29:44,844 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:29:44,857 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:29:44,860 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:29:44,867 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:29:44,882 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:29:44,887 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:29:44,890 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:29:44,891 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:29:44,891 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:29:44,892 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:29:44,892 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:29:44,908 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:29:45,113 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:29:46,899 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:29:46,971 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:29:47,002 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:29:47,028 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:29:47,091 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:29:47,093 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:29:47,095 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:29:47,096 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:29:47,184 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:29:47,185 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:29:47,185 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:29:47,186 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:29:47,187 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:29:47,187 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:29:47,187 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:29:47,234 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:29:47,277 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:29:47,388 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1e5066ac]
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1e5066ac]
2025-11-20 14:29:47,388 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1e5066ac]]
2025-11-20 14:29:47,388 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:29:47,388 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:29:47,391 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 14:29:47,418 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 14:29:47,424 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 6.722 seconds (process running for 7.173)
2025-11-20 14:53:57,811 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:53:57,869 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 22964 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:53:57,869 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:53:57,870 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:53:58,344 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:53:58,389 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interface.
2025-11-20 14:53:59,020 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 14:53:59,030 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 14:53:59,033 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:53:59,033 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:53:59,098 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:53:59,098 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1189 ms
2025-11-20 14:53:59,140 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:53:59,226 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:53:59,284 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:53:59,313 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:53:59,528 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:53:59,553 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:53:59,711 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:53:59,713 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:53:59,735 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:53:59,751 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:54:00,502 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:54:00,526 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:54:00,527 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:54:00,537 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:54:00,543 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:54:00,557 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:54:00,563 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:54:00,781 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:54:02,602 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:54:02,679 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:54:02,708 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:54:02,729 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:54:02,798 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:54:02,800 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:54:02,802 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:54:02,803 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:54:02,890 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:54:02,891 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:54:02,891 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:54:02,892 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:54:02,892 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:54:02,893 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:54:02,893 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:54:02,942 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:54:02,983 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:54:03,091 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:54:03,091 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:54:03,091 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:54:03,092 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:54:03,092 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:54:03,092 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]]
2025-11-20 14:54:03,093 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:54:03,093 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:54:03,093 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:54:03,093 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 14:54:03,121 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 14:54:03,129 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 5.815 seconds (process running for 6.116)
2025-11-20 14:55:03,201 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-20 14:55:07,757 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-20 14:55:07,787 INFO  [tomcat-shutdown] [trace=] [user=] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-20 14:55:07,792 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:55:07,792 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:55:07,792 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-11-20 14:55:07,792 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]]
2025-11-20 14:55:07,793 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:55:07,793 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@41df8b13]
2025-11-20 14:55:07,793 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-11-20 14:55:07,793 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:55:07,793 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:55:07,800 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:55:07,805 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:55:07,814 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:55:07,821 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown initiated...
2025-11-20 14:55:07,827 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown completed.
2025-11-20 14:58:12,688 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 14:58:12,745 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 26936 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 14:58:12,745 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 14:58:12,746 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 14:58:13,227 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 14:58:13,271 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 1 JPA repository interface.
2025-11-20 14:58:13,880 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 14:58:13,899 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 14:58:13,901 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 14:58:13,901 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 14:58:13,966 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 14:58:13,967 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1180 ms
2025-11-20 14:58:14,009 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 14:58:14,094 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 14:58:14,151 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 14:58:14,180 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 14:58:14,392 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 14:58:14,418 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 14:58:14,569 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 14:58:14,570 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 14:58:14,593 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 14:58:14,611 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 14:58:15,343 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 14:58:15,357 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:58:15,361 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:58:15,368 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 14:58:15,381 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 14:58:15,385 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 14:58:15,387 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 14:58:15,388 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 14:58:15,388 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 14:58:15,388 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 14:58:15,388 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 14:58:15,404 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:58:15,603 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 14:58:17,359 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 14:58:17,434 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 14:58:17,468 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 14:58:17,491 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 14:58:17,556 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:58:17,556 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:58:17,556 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:58:17,556 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 14:58:17,655 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 14:58:17,717 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 14:58:17,763 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 14:58:17,869 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:58:17,869 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:58:17,870 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 14:58:17,870 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]
2025-11-20 14:58:17,870 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]
2025-11-20 14:58:17,871 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]]
2025-11-20 14:58:17,871 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 14:58:17,872 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:58:17,872 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:58:17,872 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 14:58:17,900 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 14:58:17,906 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 5.699 seconds (process running for 6.002)
2025-11-20 14:59:17,878 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-20 14:59:18,489 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-20 14:59:18,507 INFO  [tomcat-shutdown] [trace=] [user=] o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-20 14:59:18,511 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 14:59:18,512 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 14:59:18,512 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-11-20 14:59:18,513 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]]
2025-11-20 14:59:18,513 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]
2025-11-20 14:59:18,513 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@65618897]
2025-11-20 14:59:18,513 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-11-20 14:59:18,514 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:59:18,514 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 14:59:18,517 INFO  [SpringApplicationShutdownHook] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 14:59:18,519 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 14:59:18,522 DEBUG [SpringApplicationShutdownHook] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 14:59:18,526 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown initiated...
2025-11-20 14:59:18,529 INFO  [SpringApplicationShutdownHook] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Shutdown completed.
2025-11-20 15:01:25,236 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-20 15:01:25,293 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 27356 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-20 15:01:25,293 DEBUG [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Running with Spring Boot v3.5.2, Spring v6.2.8
2025-11-20 15:01:25,294 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-20 15:01:25,774 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-20 15:01:25,815 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interface.
2025-11-20 15:01:26,431 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-20 15:01:26,452 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-20 15:01:26,455 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-20 15:01:26,455 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-20 15:01:26,519 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-20 15:01:26,520 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1185 ms
2025-11-20 15:01:26,562 DEBUG [main] [trace=] [user=] c.tiffin.config.RateLimitingFilter - Filter 'rateLimitingFilter' configured for use
2025-11-20 15:01:26,650 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-20 15:01:26,708 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-20 15:01:26,736 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-20 15:01:26,962 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-20 15:01:26,994 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-20 15:01:27,172 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection conn0: url=jdbc:h2:mem:tiffin user=SA
2025-11-20 15:01:27,173 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-20 15:01:27,195 WARN  [main] [trace=] [user=] org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-20 15:01:27,215 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-20 15:01:28,069 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-20 15:01:28,072 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade 
2025-11-20 15:01:28,087 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade 
2025-11-20 15:01:28,092 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        "role" enum ('ADMIN','DELIVERY_PERSON','PREMIUM_USER','RESTAURANT_PARTNER','SUPER_ADMIN','USER') not null,
        primary key ("id")
    )
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_user" 
       on "addresses" ("user_id")
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_address_default" 
       on "addresses" ("user_id", "isDefault")
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_email" 
       on "users" ("email")
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_phone" 
       on "users" ("phoneNumber")
2025-11-20 15:01:28,102 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index "idx_user_role" 
       on "users" ("role")
2025-11-20 15:01:28,112 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-20 15:01:28,121 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-20 15:01:28,333 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-20 15:01:30,100 DEBUG [main] [trace=] [user=] o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /ws-mobile] in 'stompWebSocketHandlerMapping'
2025-11-20 15:01:30,168 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerMapping - 14 mappings in 'requestMappingHandlerMapping'
2025-11-20 15:01:30,199 DEBUG [main] [trace=] [user=] o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-11-20 15:01:30,220 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-20 15:01:30,279 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/dishes/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 15:01:30,281 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/restaurants/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 15:01:30,283 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [GET, /api/landing/**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 15:01:30,284 WARN  [main] [trace=] [user=] o.s.s.c.a.w.c.AuthorizeHttpRequestsConfigurer$AuthorizationManagerRequestMatcherRegistry - One of the patterns in [POST, /api/newsletter/subscribe] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-11-20 15:01:30,369 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.a.c.AuthController:
	
2025-11-20 15:01:30,370 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.c.CorsController:
	
2025-11-20 15:01:30,370 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.h.HealthController:
	
2025-11-20 15:01:30,371 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.b.a.w.s.e.BasicErrorController:
	
2025-11-20 15:01:30,371 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-11-20 15:01:30,372 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-11-20 15:01:30,372 DEBUG [main] [trace=] [user=] o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-11-20 15:01:30,420 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-11-20 15:01:30,461 DEBUG [main] [trace=] [user=] o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-11-20 15:01:30,564 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-11-20 15:01:30,564 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-11-20 15:01:30,564 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-20 15:01:30,565 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5da85657]
2025-11-20 15:01:30,565 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5da85657]
2025-11-20 15:01:30,565 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5da85657]]
2025-11-20 15:01:30,566 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-20 15:01:30,566 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 15:01:30,567 DEBUG [main] [trace=] [user=] org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-11-20 15:01:30,567 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-20 15:01:30,594 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-20 15:01:30,600 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 5.83 seconds (process running for 6.153)
2025-11-20 15:02:30,592 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
