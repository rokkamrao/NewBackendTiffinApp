2025-11-12 12:41:21,933 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-12 12:41:21,984 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 6016 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-12 12:41:21,985 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 12:41:22,610 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 12:41:22,710 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 15 JPA repository interfaces.
2025-11-12 12:41:23,134 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-12 12:41:23,145 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-12 12:41:23,148 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 12:41:23,149 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-12 12:41:23,210 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-12 12:41:23,210 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1178 ms
2025-11-12 12:41:23,332 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 12:41:23,389 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-12 12:41:23,418 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 12:41:23,616 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 12:41:23,647 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-12 12:41:23,874 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection org.postgresql.jdbc.PgConnection@4cd5fc46
2025-11-12 12:41:23,875 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-12 12:41:23,946 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 18.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 12:41:24,965 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 12:41:24,977 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-11-12 12:41:24,979 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       drop constraint if exists "FK1o3cf1oq29twu2e49lxh6u8pg"
2025-11-12 12:41:24,998 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       drop constraint if exists "FKkcjtpklna4ym5c19ym2pmjkuq"
2025-11-12 12:41:25,001 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       drop constraint if exists "FK8fenw11chwbd31jgayrx86vll"
2025-11-12 12:41:25,003 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       drop constraint if exists "FKsny3a8mx1j0x10oy32nbv53x0"
2025-11-12 12:41:25,004 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FKrnpho6nwth59gol8v9lyjb9sj"
2025-11-12 12:41:25,006 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FK6gg8woymk43fp55jtjlgkd1eh"
2025-11-12 12:41:25,008 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FK35r28bu0fnis2c0ed2pels2mb"
2025-11-12 12:41:25,008 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FKitd0598xtxfyrro0df4ey8kdd"
2025-11-12 12:41:25,009 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       drop constraint if exists "FK67d4njd6wxctoxt50x2j2ueyh"
2025-11-12 12:41:25,011 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade
2025-11-12 12:41:25,026 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "customer_testimonials" cascade
2025-11-12 12:41:25,032 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_dietary_tags" cascade
2025-11-12 12:41:25,033 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_tags" cascade
2025-11-12 12:41:25,035 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dishes" cascade
2025-11-12 12:41:25,040 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "featured_dishes" cascade
2025-11-12 12:41:25,040 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "landing_analytics" cascade
2025-11-12 12:41:25,041 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_points" cascade
2025-11-12 12:41:25,045 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_transactions" cascade
2025-11-12 12:41:25,049 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plan_features" cascade
2025-11-12 12:41:25,051 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plans" cascade
2025-11-12 12:41:25,052 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "newsletter_subscriptions" cascade
2025-11-12 12:41:25,056 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "notifications" cascade
2025-11-12 12:41:25,057 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "order_items" cascade
2025-11-12 12:41:25,061 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "orders" cascade
2025-11-12 12:41:25,067 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "payments" cascade
2025-11-12 12:41:25,071 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "reviews" cascade
2025-11-12 12:41:25,076 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "uploaded_images" cascade
2025-11-12 12:41:25,082 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "user_memberships" cascade
2025-11-12 12:41:25,087 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade
2025-11-12 12:41:25,100 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-12 12:41:25,123 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "customer_testimonials" (
        "display_order" integer,
        "is_approved" boolean,
        "is_featured" boolean,
        "is_verified" boolean,
        "rating" integer not null check (("rating"<=5) and ("rating">=1)),
        "approved_at" timestamp(6),
        "created_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "user_id" bigint,
        "comment" varchar(1000) not null,
        "avatar_emoji" varchar(255),
        "customer_image_url" varchar(255),
        "customer_name" varchar(255) not null,
        "location" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,132 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_dietary_tags" (
        "dish_id" bigint not null,
        "dietary_tag" varchar(255)
    )
2025-11-12 12:41:25,134 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_tags" (
        "dish_id" bigint not null,
        "tag" varchar(255)
    )
2025-11-12 12:41:25,137 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dishes" (
        "available" boolean,
        "calories" integer,
        "preparationTime" integer,
        "price" numeric(38,2) not null,
        "rating" float(53),
        "reviewCount" integer,
        "spicyLevel" integer,
        "id" bigint generated by default as identity,
        "cuisine" varchar(255),
        "description" varchar(255),
        "imageUrl" varchar(255),
        "name" varchar(255) not null,
        "type" varchar(255) not null check ("type" in ('VEG','NON_VEG')),
        primary key ("id")
    )
2025-11-12 12:41:25,145 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,154 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 804
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 12:41:25,157 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,160 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 430
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 12:41:25,161 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_points" (
        "availablePoints" integer not null,
        "expiredPoints" integer not null,
        "lifetimeEarned" integer not null,
        "totalPoints" integer not null,
        "usedPoints" integer not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextTierDate" timestamp(6),
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "tier" varchar(255) not null check ("tier" in ('BRONZE','SILVER','GOLD','PLATINUM','DIAMOND')),
        primary key ("id")
    )
2025-11-12 12:41:25,167 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_transactions" (
        "points" integer not null,
        "createdAt" timestamp(6) not null,
        "expiryDate" timestamp(6),
        "id" bigint generated by default as identity,
        "orderId" bigint,
        "userId" bigint not null,
        "description" varchar(255),
        "referenceId" varchar(255),
        "type" varchar(255) not null check ("type" in ('EARNED_ORDER','EARNED_REFERRAL','EARNED_BONUS','EARNED_REVIEW','REDEEMED_DISCOUNT','REDEEMED_DELIVERY','EXPIRED','ADJUSTMENT')),
        primary key ("id")
    )
2025-11-12 12:41:25,174 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plan_features" (
        "plan_id" bigint not null,
        "feature" varchar(255)
    )
2025-11-12 12:41:25,176 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )
2025-11-12 12:41:25,178 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 961
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 12:41:25,179 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "newsletter_subscriptions" (
        "is_active" boolean,
        "id" bigint generated by default as identity,
        "subscribed_at" timestamp(6) not null,
        "email" varchar(255) not null unique,
        "ip_address" varchar(255),
        "source" varchar(255),
        "user_agent" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,188 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )
2025-11-12 12:41:25,192 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 402
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 12:41:25,194 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "order_items" (
        "quantity" integer not null,
        "totalPrice" numeric(38,2) not null,
        "unitPrice" numeric(38,2) not null,
        "dish_id" bigint not null,
        "id" bigint generated by default as identity,
        "order_id" bigint not null,
        primary key ("id")
    )
2025-11-12 12:41:25,199 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "orders" (
        "totalAmount" numeric(38,2) not null,
        "createdAt" timestamp(6) not null,
        "deliveryTime" timestamp(6),
        "delivery_address_id" bigint,
        "id" bigint generated by default as identity,
        "orderTime" timestamp(6) not null,
        "user_id" bigint,
        "paymentId" varchar(255),
        "paymentMethod" varchar(255) not null check ("paymentMethod" in ('UPI','CARD','WALLET','COD')),
        "paymentStatus" varchar(255) not null,
        "specialInstructions" varchar(255),
        "status" varchar(255) not null check ("status" in ('PENDING','CONFIRMED','PREPARING','OUT_FOR_DELIVERY','DELIVERED','CANCELLED')),
        primary key ("id")
    )
2025-11-12 12:41:25,216 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "payments" (
        "amount" numeric(38,2),
        "createdAt" timestamp(6),
        "updatedAt" timestamp(6),
        "currency" varchar(255),
        "failureReason" varchar(255),
        "id" varchar(255) not null,
        "orderId" varchar(255),
        "paymentMethod" varchar(255),
        "paymentMethodDetails" varchar(255),
        "receiptUrl" varchar(255),
        "status" varchar(255),
        "transactionId" varchar(255),
        "userId" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,230 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "reviews" (
        "isVerifiedOrder" boolean not null,
        "rating" integer not null,
        "createdAt" timestamp(6),
        "dishId" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "comment" varchar(255),
        "userId" varchar(255),
        "userName" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,238 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "uploaded_images" (
        "fileSize" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "uploadedAt" timestamp(6),
        "category" varchar(50) not null,
        "contentType" varchar(100),
        "image_id" varchar(100) not null,
        "filename" varchar(255) not null,
        "fileData" "bytea",
        primary key ("id"),
        unique ("category", "image_id")
    )
2025-11-12 12:41:25,251 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "user_memberships" (
        "autoRenewal" boolean not null,
        "cancellationsUsed" integer not null,
        "deliveriesUsed" integer not null,
        "discountAmount" numeric(10,2),
        "ordersUsed" integer not null,
        "paidAmount" numeric(10,2) not null,
        "totalSavings" numeric(12,2) not null,
        "cancelledAt" timestamp(6),
        "createdAt" timestamp(6) not null,
        "endDate" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextBillingDate" timestamp(6),
        "plan_id" bigint not null,
        "startDate" timestamp(6) not null,
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "billingCycle" varchar(255) not null check ("billingCycle" in ('MONTHLY','YEARLY')),
        "cancellationReason" varchar(255),
        "paymentTransactionId" varchar(255),
        "promoCode" varchar(255),
        "status" varchar(255) not null check ("status" in ('ACTIVE','EXPIRED','CANCELLED','SUSPENDED','PENDING_PAYMENT','TRIAL')),
        primary key ("id")
    )
2025-11-12 12:41:25,262 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "role" varchar(20) not null check ("role" in ('USER','PREMIUM_USER','DELIVERY_PERSON','RESTAURANT_PARTNER','ADMIN','SUPER_ADMIN')),
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        primary key ("id")
    )
2025-11-12 12:41:25,276 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_user 
       on "addresses" ("user_id")
2025-11-12 12:41:25,284 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_default 
       on "addresses" ("user_id", "isDefault")
2025-11-12 12:41:25,292 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_email 
       on "users" ("email")
2025-11-12 12:41:25,296 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_phone 
       on "users" ("phoneNumber")
2025-11-12 12:41:25,298 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_role 
       on "users" ("role")
2025-11-12 12:41:25,302 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-12 12:41:25,313 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       add constraint "FKkcjtpklna4ym5c19ym2pmjkuq" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 12:41:25,316 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       add constraint "FK8fenw11chwbd31jgayrx86vll" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 12:41:25,318 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 12:41:25,319 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 12:41:25,319 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FKrnpho6nwth59gol8v9lyjb9sj" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 12:41:25,323 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FK6gg8woymk43fp55jtjlgkd1eh" 
       foreign key ("order_id") 
       references "orders"
2025-11-12 12:41:25,327 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FK35r28bu0fnis2c0ed2pels2mb" 
       foreign key ("delivery_address_id") 
       references "addresses"
2025-11-12 12:41:25,329 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FKitd0598xtxfyrro0df4ey8kdd" 
       foreign key ("user_id") 
       references "users"
2025-11-12 12:41:25,331 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 12:41:25,332 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 12:41:25,333 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 12:41:25,538 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 12:41:28,918 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Initializing Razorpay client with key: rzp_****p8IS in test environment
2025-11-12 12:41:28,918 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay configuration validated successfully
2025-11-12 12:41:29,047 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Configured Razorpay client timeout: 30000 ms
2025-11-12 12:41:29,047 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay client initialized successfully
2025-11-12 12:41:29,340 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 12:41:29,595 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-12 12:41:29,595 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4f7af2c1]]
2025-11-12 12:41:29,596 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-12 12:41:29,596 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-12 12:41:29,618 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-12 12:41:29,625 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 8.174 seconds (process running for 8.46)
2025-11-12 12:41:29,704 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 12:41:29,730 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  No logo found, creating default TiffinApp logo...
2025-11-12 12:41:29,757 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "uploaded_images"
        ("category", "contentType", "fileData", "fileSize", "filename", "image_id", "updatedAt", "uploadedAt") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-12 12:41:29,782 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default TiffinApp logo saved to database
2025-11-12 12:41:29,783 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default logo created successfully!
2025-11-12 12:42:29,596 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-12 13:12:29,606 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-11-12 13:39:56,411 INFO  [http-nio-8081-exec-3] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 13:39:56,417 INFO  [http-nio-8081-exec-3] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 13:39:56,494 INFO  [http-nio-8081-exec-3] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Completed initialization in 76 ms
2025-11-12 13:39:56,778 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 13:39:56,778 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 13:39:56,821 WARN  [http-nio-8081-exec-3] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 13:41:40,657 DEBUG [http-nio-8081-exec-4] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 13:41:40,667 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 13:41:40,704 WARN  [http-nio-8081-exec-4] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 13:41:49,137 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 13:41:49,224 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 13:41:49,235 WARN  [http-nio-8081-exec-6] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 13:42:22,974 DEBUG [http-nio-8081-exec-7] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 13:42:23,009 DEBUG [http-nio-8081-exec-8] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 13:42:23,051 WARN  [http-nio-8081-exec-8] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 13:42:29,649 INFO  [MessageBroker-2] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-11-12 16:22:39,182 WARN  [TiffinHikariCP:housekeeper] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Thread starvation or clock leap detected (housekeeper delta=2h32m44s244ms228s300ns).
2025-11-12 16:30:29,896 DEBUG [http-nio-8081-exec-9] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 16:30:29,916 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:30:29,977 WARN  [http-nio-8081-exec-10] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 16:30:58,354 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 16:30:58,437 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:30:58,472 WARN  [http-nio-8081-exec-1] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 16:31:05,829 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 16:31:05,882 DEBUG [http-nio-8081-exec-4] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:31:05,907 WARN  [http-nio-8081-exec-4] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 16:44:43,889 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-11-12 16:53:17,904 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 16:53:18,000 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:53:18,007 WARN  [http-nio-8081-exec-6] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 16:53:24,943 DEBUG [http-nio-8081-exec-8] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:53:25,783 DEBUG [http-nio-8081-exec-7] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 16:53:25,860 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 16:53:25,860 WARN  [http-nio-8081-exec-10] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:05:23,753 DEBUG [http-nio-8081-exec-9] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:05:23,764 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:05:23,805 WARN  [http-nio-8081-exec-1] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:07:59,440 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:07:59,448 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:07:59,489 WARN  [http-nio-8081-exec-2] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:09:52,743 DEBUG [http-nio-8081-exec-4] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:09:52,807 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:09:52,814 WARN  [http-nio-8081-exec-5] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:10:43,766 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:10:43,911 DEBUG [http-nio-8081-exec-8] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:10:43,923 WARN  [http-nio-8081-exec-8] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:10:53,163 DEBUG [http-nio-8081-exec-7] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:10:53,299 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:10:53,340 WARN  [http-nio-8081-exec-10] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:13:06,349 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-12 17:13:06,396 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 27120 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-12 17:13:06,397 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 17:13:07,162 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 17:13:07,274 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 15 JPA repository interfaces.
2025-11-12 17:13:07,751 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-12 17:13:07,775 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-12 17:13:07,778 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 17:13:07,778 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-12 17:13:07,839 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-12 17:13:07,839 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1405 ms
2025-11-12 17:13:07,998 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 17:13:08,056 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-12 17:13:08,097 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 17:13:08,309 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 17:13:08,342 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-12 17:13:08,473 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection org.postgresql.jdbc.PgConnection@1255de25
2025-11-12 17:13:08,473 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-12 17:13:08,549 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 18.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 17:13:09,814 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 17:13:09,829 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-11-12 17:13:09,829 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       drop constraint if exists "FK1o3cf1oq29twu2e49lxh6u8pg"
2025-11-12 17:13:09,850 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       drop constraint if exists "FKkcjtpklna4ym5c19ym2pmjkuq"
2025-11-12 17:13:09,854 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       drop constraint if exists "FK8fenw11chwbd31jgayrx86vll"
2025-11-12 17:13:09,856 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       drop constraint if exists "FKsny3a8mx1j0x10oy32nbv53x0"
2025-11-12 17:13:09,857 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FKrnpho6nwth59gol8v9lyjb9sj"
2025-11-12 17:13:09,859 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FK6gg8woymk43fp55jtjlgkd1eh"
2025-11-12 17:13:09,860 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FK35r28bu0fnis2c0ed2pels2mb"
2025-11-12 17:13:09,861 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FKitd0598xtxfyrro0df4ey8kdd"
2025-11-12 17:13:09,863 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       drop constraint if exists "FK67d4njd6wxctoxt50x2j2ueyh"
2025-11-12 17:13:09,864 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade
2025-11-12 17:13:09,879 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "customer_testimonials" cascade
2025-11-12 17:13:09,883 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_dietary_tags" cascade
2025-11-12 17:13:09,885 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_tags" cascade
2025-11-12 17:13:09,887 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dishes" cascade
2025-11-12 17:13:09,890 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "featured_dishes" cascade
2025-11-12 17:13:09,892 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "landing_analytics" cascade
2025-11-12 17:13:09,892 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_points" cascade
2025-11-12 17:13:09,895 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_transactions" cascade
2025-11-12 17:13:09,899 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plan_features" cascade
2025-11-12 17:13:09,901 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plans" cascade
2025-11-12 17:13:09,902 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "newsletter_subscriptions" cascade
2025-11-12 17:13:09,907 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "notifications" cascade
2025-11-12 17:13:09,908 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "order_items" cascade
2025-11-12 17:13:09,912 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "orders" cascade
2025-11-12 17:13:09,913 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "payments" cascade
2025-11-12 17:13:09,919 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "reviews" cascade
2025-11-12 17:13:09,923 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "uploaded_images" cascade
2025-11-12 17:13:09,928 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "user_memberships" cascade
2025-11-12 17:13:09,933 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade
2025-11-12 17:13:09,944 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-12 17:13:09,968 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "customer_testimonials" (
        "display_order" integer,
        "is_approved" boolean,
        "is_featured" boolean,
        "is_verified" boolean,
        "rating" integer not null check (("rating"<=5) and ("rating">=1)),
        "approved_at" timestamp(6),
        "created_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "user_id" bigint,
        "comment" varchar(1000) not null,
        "avatar_emoji" varchar(255),
        "customer_image_url" varchar(255),
        "customer_name" varchar(255) not null,
        "location" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:09,968 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_dietary_tags" (
        "dish_id" bigint not null,
        "dietary_tag" varchar(255)
    )
2025-11-12 17:13:09,980 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_tags" (
        "dish_id" bigint not null,
        "tag" varchar(255)
    )
2025-11-12 17:13:09,983 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dishes" (
        "available" boolean,
        "calories" integer,
        "preparationTime" integer,
        "price" numeric(38,2) not null,
        "rating" float(53),
        "reviewCount" integer,
        "spicyLevel" integer,
        "id" bigint generated by default as identity,
        "cuisine" varchar(255),
        "description" varchar(255),
        "imageUrl" varchar(255),
        "name" varchar(255) not null,
        "type" varchar(255) not null check ("type" in ('VEG','NON_VEG')),
        primary key ("id")
    )
2025-11-12 17:13:09,992 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,005 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 804
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 17:13:10,010 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,010 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 430
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 17:13:10,010 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_points" (
        "availablePoints" integer not null,
        "expiredPoints" integer not null,
        "lifetimeEarned" integer not null,
        "totalPoints" integer not null,
        "usedPoints" integer not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextTierDate" timestamp(6),
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "tier" varchar(255) not null check ("tier" in ('BRONZE','SILVER','GOLD','PLATINUM','DIAMOND')),
        primary key ("id")
    )
2025-11-12 17:13:10,023 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_transactions" (
        "points" integer not null,
        "createdAt" timestamp(6) not null,
        "expiryDate" timestamp(6),
        "id" bigint generated by default as identity,
        "orderId" bigint,
        "userId" bigint not null,
        "description" varchar(255),
        "referenceId" varchar(255),
        "type" varchar(255) not null check ("type" in ('EARNED_ORDER','EARNED_REFERRAL','EARNED_BONUS','EARNED_REVIEW','REDEEMED_DISCOUNT','REDEEMED_DELIVERY','EXPIRED','ADJUSTMENT')),
        primary key ("id")
    )
2025-11-12 17:13:10,030 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plan_features" (
        "plan_id" bigint not null,
        "feature" varchar(255)
    )
2025-11-12 17:13:10,033 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )
2025-11-12 17:13:10,034 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 961
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 17:13:10,036 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "newsletter_subscriptions" (
        "is_active" boolean,
        "id" bigint generated by default as identity,
        "subscribed_at" timestamp(6) not null,
        "email" varchar(255) not null unique,
        "ip_address" varchar(255),
        "source" varchar(255),
        "user_agent" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,045 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )
2025-11-12 17:13:10,047 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 402
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 17:13:10,048 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "order_items" (
        "quantity" integer not null,
        "totalPrice" numeric(38,2) not null,
        "unitPrice" numeric(38,2) not null,
        "dish_id" bigint not null,
        "id" bigint generated by default as identity,
        "order_id" bigint not null,
        primary key ("id")
    )
2025-11-12 17:13:10,054 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "orders" (
        "totalAmount" numeric(38,2) not null,
        "createdAt" timestamp(6) not null,
        "deliveryTime" timestamp(6),
        "delivery_address_id" bigint,
        "id" bigint generated by default as identity,
        "orderTime" timestamp(6) not null,
        "user_id" bigint,
        "paymentId" varchar(255),
        "paymentMethod" varchar(255) not null check ("paymentMethod" in ('UPI','CARD','WALLET','COD')),
        "paymentStatus" varchar(255) not null,
        "specialInstructions" varchar(255),
        "status" varchar(255) not null check ("status" in ('PENDING','CONFIRMED','PREPARING','OUT_FOR_DELIVERY','DELIVERED','CANCELLED')),
        primary key ("id")
    )
2025-11-12 17:13:10,055 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "payments" (
        "amount" numeric(38,2),
        "createdAt" timestamp(6),
        "updatedAt" timestamp(6),
        "currency" varchar(255),
        "failureReason" varchar(255),
        "id" varchar(255) not null,
        "orderId" varchar(255),
        "paymentMethod" varchar(255),
        "paymentMethodDetails" varchar(255),
        "receiptUrl" varchar(255),
        "status" varchar(255),
        "transactionId" varchar(255),
        "userId" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,070 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "reviews" (
        "isVerifiedOrder" boolean not null,
        "rating" integer not null,
        "createdAt" timestamp(6),
        "dishId" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "comment" varchar(255),
        "userId" varchar(255),
        "userName" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,070 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "uploaded_images" (
        "fileSize" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "uploadedAt" timestamp(6),
        "category" varchar(50) not null,
        "contentType" varchar(100),
        "image_id" varchar(100) not null,
        "filename" varchar(255) not null,
        "fileData" "bytea",
        primary key ("id"),
        unique ("category", "image_id")
    )
2025-11-12 17:13:10,086 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "user_memberships" (
        "autoRenewal" boolean not null,
        "cancellationsUsed" integer not null,
        "deliveriesUsed" integer not null,
        "discountAmount" numeric(10,2),
        "ordersUsed" integer not null,
        "paidAmount" numeric(10,2) not null,
        "totalSavings" numeric(12,2) not null,
        "cancelledAt" timestamp(6),
        "createdAt" timestamp(6) not null,
        "endDate" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextBillingDate" timestamp(6),
        "plan_id" bigint not null,
        "startDate" timestamp(6) not null,
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "billingCycle" varchar(255) not null check ("billingCycle" in ('MONTHLY','YEARLY')),
        "cancellationReason" varchar(255),
        "paymentTransactionId" varchar(255),
        "promoCode" varchar(255),
        "status" varchar(255) not null check ("status" in ('ACTIVE','EXPIRED','CANCELLED','SUSPENDED','PENDING_PAYMENT','TRIAL')),
        primary key ("id")
    )
2025-11-12 17:13:10,086 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "role" varchar(20) not null check ("role" in ('USER','PREMIUM_USER','DELIVERY_PERSON','RESTAURANT_PARTNER','ADMIN','SUPER_ADMIN')),
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        primary key ("id")
    )
2025-11-12 17:13:10,109 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_user 
       on "addresses" ("user_id")
2025-11-12 17:13:10,112 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_default 
       on "addresses" ("user_id", "isDefault")
2025-11-12 17:13:10,114 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_email 
       on "users" ("email")
2025-11-12 17:13:10,114 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_phone 
       on "users" ("phoneNumber")
2025-11-12 17:13:10,121 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_role 
       on "users" ("role")
2025-11-12 17:13:10,123 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-12 17:13:10,133 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       add constraint "FKkcjtpklna4ym5c19ym2pmjkuq" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 17:13:10,135 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       add constraint "FK8fenw11chwbd31jgayrx86vll" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 17:13:10,137 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 17:13:10,138 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 17:13:10,140 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FKrnpho6nwth59gol8v9lyjb9sj" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 17:13:10,143 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FK6gg8woymk43fp55jtjlgkd1eh" 
       foreign key ("order_id") 
       references "orders"
2025-11-12 17:13:10,145 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FK35r28bu0fnis2c0ed2pels2mb" 
       foreign key ("delivery_address_id") 
       references "addresses"
2025-11-12 17:13:10,146 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FKitd0598xtxfyrro0df4ey8kdd" 
       foreign key ("user_id") 
       references "users"
2025-11-12 17:13:10,149 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 17:13:10,149 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 17:13:10,154 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 17:13:10,430 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 17:13:14,137 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Initializing Razorpay client with key: rzp_****p8IS in test environment
2025-11-12 17:13:14,138 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay configuration validated successfully
2025-11-12 17:13:14,302 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Configured Razorpay client timeout: 30000 ms
2025-11-12 17:13:14,302 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay client initialized successfully
2025-11-12 17:13:14,588 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 17:13:14,836 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-12 17:13:14,836 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6c8afc70]]
2025-11-12 17:13:14,836 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-12 17:13:14,836 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-12 17:13:14,863 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-12 17:13:14,868 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 9.002 seconds (process running for 9.3)
2025-11-12 17:13:14,955 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:13:14,982 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  No logo found, creating default TiffinApp logo...
2025-11-12 17:13:15,009 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "uploaded_images"
        ("category", "contentType", "fileData", "fileSize", "filename", "image_id", "updatedAt", "uploadedAt") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-12 17:13:15,034 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default TiffinApp logo saved to database
2025-11-12 17:13:15,034 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default logo created successfully!
2025-11-12 17:14:14,870 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-12 17:14:58,193 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 17:14:58,197 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 17:14:58,253 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Completed initialization in 56 ms
2025-11-12 17:14:58,413 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:14:58,413 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:14:58,455 WARN  [http-nio-8081-exec-2] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 17:15:08,941 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 17:15:09,068 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 17:15:09,079 WARN  [http-nio-8081-exec-10] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 18:02:50,801 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-12 18:02:50,844 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 26132 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-12 18:02:50,845 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:02:51,476 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 18:02:51,568 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 15 JPA repository interfaces.
2025-11-12 18:02:52,007 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-12 18:02:52,018 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-12 18:02:52,021 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 18:02:52,021 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-12 18:02:52,089 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-12 18:02:52,089 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1201 ms
2025-11-12 18:02:52,249 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 18:02:52,301 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-12 18:02:52,331 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 18:02:52,554 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 18:02:52,581 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-12 18:02:52,717 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection org.postgresql.jdbc.PgConnection@6ac9b66b
2025-11-12 18:02:52,719 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-12 18:02:52,794 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 18.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 18:02:53,881 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 18:02:53,896 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-11-12 18:02:53,898 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       drop constraint if exists "FK1o3cf1oq29twu2e49lxh6u8pg"
2025-11-12 18:02:53,918 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       drop constraint if exists "FKkcjtpklna4ym5c19ym2pmjkuq"
2025-11-12 18:02:53,921 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       drop constraint if exists "FK8fenw11chwbd31jgayrx86vll"
2025-11-12 18:02:53,923 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       drop constraint if exists "FKsny3a8mx1j0x10oy32nbv53x0"
2025-11-12 18:02:53,924 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FKrnpho6nwth59gol8v9lyjb9sj"
2025-11-12 18:02:53,925 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FK6gg8woymk43fp55jtjlgkd1eh"
2025-11-12 18:02:53,926 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FK35r28bu0fnis2c0ed2pels2mb"
2025-11-12 18:02:53,927 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FKitd0598xtxfyrro0df4ey8kdd"
2025-11-12 18:02:53,928 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       drop constraint if exists "FK67d4njd6wxctoxt50x2j2ueyh"
2025-11-12 18:02:53,929 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade
2025-11-12 18:02:53,944 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "customer_testimonials" cascade
2025-11-12 18:02:53,951 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_dietary_tags" cascade
2025-11-12 18:02:53,953 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_tags" cascade
2025-11-12 18:02:53,955 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dishes" cascade
2025-11-12 18:02:53,961 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "featured_dishes" cascade
2025-11-12 18:02:53,963 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "landing_analytics" cascade
2025-11-12 18:02:53,964 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_points" cascade
2025-11-12 18:02:53,968 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_transactions" cascade
2025-11-12 18:02:53,974 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plan_features" cascade
2025-11-12 18:02:53,977 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plans" cascade
2025-11-12 18:02:53,978 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "newsletter_subscriptions" cascade
2025-11-12 18:02:53,984 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "notifications" cascade
2025-11-12 18:02:53,985 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "order_items" cascade
2025-11-12 18:02:53,989 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "orders" cascade
2025-11-12 18:02:53,996 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "payments" cascade
2025-11-12 18:02:54,001 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "reviews" cascade
2025-11-12 18:02:54,006 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "uploaded_images" cascade
2025-11-12 18:02:54,013 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "user_memberships" cascade
2025-11-12 18:02:54,019 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade
2025-11-12 18:02:54,033 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-12 18:02:54,064 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "customer_testimonials" (
        "display_order" integer,
        "is_approved" boolean,
        "is_featured" boolean,
        "is_verified" boolean,
        "rating" integer not null check (("rating"<=5) and ("rating">=1)),
        "approved_at" timestamp(6),
        "created_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "user_id" bigint,
        "comment" varchar(1000) not null,
        "avatar_emoji" varchar(255),
        "customer_image_url" varchar(255),
        "customer_name" varchar(255) not null,
        "location" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,072 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_dietary_tags" (
        "dish_id" bigint not null,
        "dietary_tag" varchar(255)
    )
2025-11-12 18:02:54,076 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_tags" (
        "dish_id" bigint not null,
        "tag" varchar(255)
    )
2025-11-12 18:02:54,077 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dishes" (
        "available" boolean,
        "calories" integer,
        "preparationTime" integer,
        "price" numeric(38,2) not null,
        "rating" float(53),
        "reviewCount" integer,
        "spicyLevel" integer,
        "id" bigint generated by default as identity,
        "cuisine" varchar(255),
        "description" varchar(255),
        "imageUrl" varchar(255),
        "name" varchar(255) not null,
        "type" varchar(255) not null check ("type" in ('VEG','NON_VEG')),
        primary key ("id")
    )
2025-11-12 18:02:54,084 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,092 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 804
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:02:54,096 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,098 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 430
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:02:54,100 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_points" (
        "availablePoints" integer not null,
        "expiredPoints" integer not null,
        "lifetimeEarned" integer not null,
        "totalPoints" integer not null,
        "usedPoints" integer not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextTierDate" timestamp(6),
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "tier" varchar(255) not null check ("tier" in ('BRONZE','SILVER','GOLD','PLATINUM','DIAMOND')),
        primary key ("id")
    )
2025-11-12 18:02:54,105 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_transactions" (
        "points" integer not null,
        "createdAt" timestamp(6) not null,
        "expiryDate" timestamp(6),
        "id" bigint generated by default as identity,
        "orderId" bigint,
        "userId" bigint not null,
        "description" varchar(255),
        "referenceId" varchar(255),
        "type" varchar(255) not null check ("type" in ('EARNED_ORDER','EARNED_REFERRAL','EARNED_BONUS','EARNED_REVIEW','REDEEMED_DISCOUNT','REDEEMED_DELIVERY','EXPIRED','ADJUSTMENT')),
        primary key ("id")
    )
2025-11-12 18:02:54,113 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plan_features" (
        "plan_id" bigint not null,
        "feature" varchar(255)
    )
2025-11-12 18:02:54,116 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )
2025-11-12 18:02:54,118 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 961
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:02:54,119 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "newsletter_subscriptions" (
        "is_active" boolean,
        "id" bigint generated by default as identity,
        "subscribed_at" timestamp(6) not null,
        "email" varchar(255) not null unique,
        "ip_address" varchar(255),
        "source" varchar(255),
        "user_agent" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,127 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )
2025-11-12 18:02:54,129 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 402
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:02:54,131 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "order_items" (
        "quantity" integer not null,
        "totalPrice" numeric(38,2) not null,
        "unitPrice" numeric(38,2) not null,
        "dish_id" bigint not null,
        "id" bigint generated by default as identity,
        "order_id" bigint not null,
        primary key ("id")
    )
2025-11-12 18:02:54,136 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "orders" (
        "totalAmount" numeric(38,2) not null,
        "createdAt" timestamp(6) not null,
        "deliveryTime" timestamp(6),
        "delivery_address_id" bigint,
        "id" bigint generated by default as identity,
        "orderTime" timestamp(6) not null,
        "user_id" bigint,
        "paymentId" varchar(255),
        "paymentMethod" varchar(255) not null check ("paymentMethod" in ('UPI','CARD','WALLET','COD')),
        "paymentStatus" varchar(255) not null,
        "specialInstructions" varchar(255),
        "status" varchar(255) not null check ("status" in ('PENDING','CONFIRMED','PREPARING','OUT_FOR_DELIVERY','DELIVERED','CANCELLED')),
        primary key ("id")
    )
2025-11-12 18:02:54,150 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "payments" (
        "amount" numeric(38,2),
        "createdAt" timestamp(6),
        "updatedAt" timestamp(6),
        "currency" varchar(255),
        "failureReason" varchar(255),
        "id" varchar(255) not null,
        "orderId" varchar(255),
        "paymentMethod" varchar(255),
        "paymentMethodDetails" varchar(255),
        "receiptUrl" varchar(255),
        "status" varchar(255),
        "transactionId" varchar(255),
        "userId" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,156 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "reviews" (
        "isVerifiedOrder" boolean not null,
        "rating" integer not null,
        "createdAt" timestamp(6),
        "dishId" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "comment" varchar(255),
        "userId" varchar(255),
        "userName" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,163 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "uploaded_images" (
        "fileSize" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "uploadedAt" timestamp(6),
        "category" varchar(50) not null,
        "contentType" varchar(100),
        "image_id" varchar(100) not null,
        "filename" varchar(255) not null,
        "fileData" "bytea",
        primary key ("id"),
        unique ("category", "image_id")
    )
2025-11-12 18:02:54,174 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "user_memberships" (
        "autoRenewal" boolean not null,
        "cancellationsUsed" integer not null,
        "deliveriesUsed" integer not null,
        "discountAmount" numeric(10,2),
        "ordersUsed" integer not null,
        "paidAmount" numeric(10,2) not null,
        "totalSavings" numeric(12,2) not null,
        "cancelledAt" timestamp(6),
        "createdAt" timestamp(6) not null,
        "endDate" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextBillingDate" timestamp(6),
        "plan_id" bigint not null,
        "startDate" timestamp(6) not null,
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "billingCycle" varchar(255) not null check ("billingCycle" in ('MONTHLY','YEARLY')),
        "cancellationReason" varchar(255),
        "paymentTransactionId" varchar(255),
        "promoCode" varchar(255),
        "status" varchar(255) not null check ("status" in ('ACTIVE','EXPIRED','CANCELLED','SUSPENDED','PENDING_PAYMENT','TRIAL')),
        primary key ("id")
    )
2025-11-12 18:02:54,187 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "role" varchar(20) not null check ("role" in ('USER','PREMIUM_USER','DELIVERY_PERSON','RESTAURANT_PARTNER','ADMIN','SUPER_ADMIN')),
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        primary key ("id")
    )
2025-11-12 18:02:54,196 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_user 
       on "addresses" ("user_id")
2025-11-12 18:02:54,200 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_default 
       on "addresses" ("user_id", "isDefault")
2025-11-12 18:02:54,202 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_email 
       on "users" ("email")
2025-11-12 18:02:54,205 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_phone 
       on "users" ("phoneNumber")
2025-11-12 18:02:54,207 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_role 
       on "users" ("role")
2025-11-12 18:02:54,209 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-12 18:02:54,220 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       add constraint "FKkcjtpklna4ym5c19ym2pmjkuq" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:02:54,224 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       add constraint "FK8fenw11chwbd31jgayrx86vll" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:02:54,225 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 18:02:54,227 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 18:02:54,228 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FKrnpho6nwth59gol8v9lyjb9sj" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:02:54,231 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FK6gg8woymk43fp55jtjlgkd1eh" 
       foreign key ("order_id") 
       references "orders"
2025-11-12 18:02:54,235 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FK35r28bu0fnis2c0ed2pels2mb" 
       foreign key ("delivery_address_id") 
       references "addresses"
2025-11-12 18:02:54,237 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FKitd0598xtxfyrro0df4ey8kdd" 
       foreign key ("user_id") 
       references "users"
2025-11-12 18:02:54,239 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 18:02:54,240 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 18:02:54,246 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:02:54,462 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 18:02:57,941 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Initializing Razorpay client with key: rzp_****p8IS in test environment
2025-11-12 18:02:57,941 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay configuration validated successfully
2025-11-12 18:02:58,087 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Configured Razorpay client timeout: 30000 ms
2025-11-12 18:02:58,087 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay client initialized successfully
2025-11-12 18:02:58,413 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 18:02:58,763 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-12 18:02:58,765 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@7764c4b3]]
2025-11-12 18:02:58,767 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-12 18:02:58,769 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-12 18:02:58,815 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-12 18:02:58,821 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 8.543 seconds (process running for 8.849)
2025-11-12 18:02:58,913 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:02:58,945 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  No logo found, creating default TiffinApp logo...
2025-11-12 18:02:58,970 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "uploaded_images"
        ("category", "contentType", "fileData", "fileSize", "filename", "image_id", "updatedAt", "uploadedAt") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-12 18:02:58,993 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default TiffinApp logo saved to database
2025-11-12 18:02:58,993 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default logo created successfully!
2025-11-12 18:03:58,815 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-12 18:04:16,428 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 18:04:16,430 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 18:04:16,455 INFO  [http-nio-8081-exec-1] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Completed initialization in 24 ms
2025-11-12 18:04:16,590 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:04:37,355 INFO  [http-nio-8081-exec-2] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/send-otp - Phone: 9045394959
2025-11-12 18:04:37,356 INFO  [http-nio-8081-exec-2] [trace=] [user=] c.t.a.service.AuthenticationService -  Sending OTP to phone: 9045394959
2025-11-12 18:04:37,358 INFO  [http-nio-8081-exec-2] [trace=] [user=] c.t.a.service.AuthenticationService -  Generated DEMO OTP for 9045394959: 123456 (OTP ID: otp_1762950877357)
2025-11-12 18:04:37,359 INFO  [http-nio-8081-exec-2] [trace=] [user=] c.t.auth.controller.AuthController -  OTP sent successfully - Phone: 9045394959
2025-11-12 18:04:43,812 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/verify-otp - Phone: 9045394959
2025-11-12 18:04:43,814 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.a.service.AuthenticationService -  Verifying OTP for phone: 9045394959 with OTP: 123456
2025-11-12 18:04:43,818 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification: phone match=true, otp match=true, not expired=true
2025-11-12 18:04:43,834 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt" 
    from
        "users" u1_0 
    where
        u1_0."phoneNumber"=?
2025-11-12 18:04:43,866 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.a.service.AuthenticationService -  Creating new user for phone: 9045394959
2025-11-12 18:04:43,904 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "users"
        ("active", "createdAt", "email", "emailVerified", "firstName", "lastLoginAt", "lastName", "password", "phoneNumber", "phoneVerified", "preferredLanguage", "profileImageUrl", "role", "updatedAt") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-11-12 18:04:43,947 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification successful for phone: 9045394959, user ID: 1
2025-11-12 18:04:43,949 INFO  [http-nio-8081-exec-5] [trace=] [user=] c.t.auth.controller.AuthController -  OTP verification successful - Phone: 9045394959
2025-11-12 18:06:06,139 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:06:09,925 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:06:28,360 DEBUG [http-nio-8081-exec-4] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:10:32,539 DEBUG [http-nio-8081-exec-7] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:10:58,682 INFO  [http-nio-8081-exec-8] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/send-otp - Phone: 9045394959
2025-11-12 18:10:58,687 INFO  [http-nio-8081-exec-8] [trace=] [user=] c.t.a.service.AuthenticationService -  Sending OTP to phone: 9045394959
2025-11-12 18:10:58,688 INFO  [http-nio-8081-exec-8] [trace=] [user=] c.t.a.service.AuthenticationService -  Generated DEMO OTP for 9045394959: 123456 (OTP ID: otp_1762951258687)
2025-11-12 18:10:58,689 INFO  [http-nio-8081-exec-8] [trace=] [user=] c.t.auth.controller.AuthController -  OTP sent successfully - Phone: 9045394959
2025-11-12 18:11:10,335 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/verify-otp - Phone: 9045394959
2025-11-12 18:11:10,336 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.a.service.AuthenticationService -  Verifying OTP for phone: 9045394959 with OTP: 123456
2025-11-12 18:11:10,339 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification: phone match=true, otp match=true, not expired=true
2025-11-12 18:11:10,384 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt" 
    from
        "users" u1_0 
    where
        u1_0."phoneNumber"=?
2025-11-12 18:11:10,483 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.a.service.AuthenticationService -  Existing user found: 1
2025-11-12 18:11:10,615 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt",
        a1_0."user_id",
        a1_0."id",
        a1_0."active",
        a1_0."apartment",
        a1_0."city",
        a1_0."country",
        a1_0."createdAt",
        a1_0."deliveryInstructions",
        a1_0."isDefault",
        a1_0."label",
        a1_0."landmark",
        a1_0."latitude",
        a1_0."longitude",
        a1_0."state",
        a1_0."street",
        a1_0."updatedAt",
        a1_0."zipCode" 
    from
        "users" u1_0 
    left join
        "addresses" a1_0 
            on u1_0."id"=a1_0."user_id" 
    where
        u1_0."id"=?
2025-11-12 18:11:10,659 DEBUG [http-nio-8081-exec-10] [trace=] [user=] org.hibernate.SQL - 
    select
        o1_0."user_id",
        o1_0."id",
        o1_0."createdAt",
        o1_0."delivery_address_id",
        o1_0."deliveryTime",
        o1_0."orderTime",
        o1_0."paymentId",
        o1_0."paymentMethod",
        o1_0."paymentStatus",
        o1_0."specialInstructions",
        o1_0."status",
        o1_0."totalAmount" 
    from
        "orders" o1_0 
    where
        o1_0."user_id"=?
2025-11-12 18:11:10,685 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification successful for phone: 9045394959, user ID: 1
2025-11-12 18:11:10,685 INFO  [http-nio-8081-exec-10] [trace=] [user=] c.t.auth.controller.AuthController -  OTP verification successful - Phone: 9045394959
2025-11-12 18:24:17,948 DEBUG [http-nio-8081-exec-9] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:24:18,065 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:24:18,082 WARN  [http-nio-8081-exec-1] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 18:27:37,274 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:27:37,294 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:27:37,357 WARN  [http-nio-8081-exec-5] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 18:27:56,664 INFO  [http-nio-8081-exec-3] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/send-otp - Phone: 9045394959
2025-11-12 18:27:56,664 INFO  [http-nio-8081-exec-3] [trace=] [user=] c.t.a.service.AuthenticationService -  Sending OTP to phone: 9045394959
2025-11-12 18:27:56,664 INFO  [http-nio-8081-exec-3] [trace=] [user=] c.t.a.service.AuthenticationService -  Generated DEMO OTP for 9045394959: 123456 (OTP ID: otp_1762952276664)
2025-11-12 18:27:56,664 INFO  [http-nio-8081-exec-3] [trace=] [user=] c.t.auth.controller.AuthController -  OTP sent successfully - Phone: 9045394959
2025-11-12 18:28:02,166 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.auth.controller.AuthController -  POST /api/auth/verify-otp - Phone: 9045394959
2025-11-12 18:28:02,166 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.a.service.AuthenticationService -  Verifying OTP for phone: 9045394959 with OTP: 123456
2025-11-12 18:28:02,166 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification: phone match=true, otp match=true, not expired=true
2025-11-12 18:28:02,177 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt" 
    from
        "users" u1_0 
    where
        u1_0."phoneNumber"=?
2025-11-12 18:28:02,192 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.a.service.AuthenticationService -  Existing user found: 1
2025-11-12 18:28:02,199 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        u1_0."id",
        u1_0."active",
        u1_0."createdAt",
        u1_0."email",
        u1_0."emailVerified",
        u1_0."firstName",
        u1_0."lastLoginAt",
        u1_0."lastName",
        u1_0."password",
        u1_0."phoneNumber",
        u1_0."phoneVerified",
        u1_0."preferredLanguage",
        u1_0."profileImageUrl",
        u1_0."role",
        u1_0."updatedAt",
        a1_0."user_id",
        a1_0."id",
        a1_0."active",
        a1_0."apartment",
        a1_0."city",
        a1_0."country",
        a1_0."createdAt",
        a1_0."deliveryInstructions",
        a1_0."isDefault",
        a1_0."label",
        a1_0."landmark",
        a1_0."latitude",
        a1_0."longitude",
        a1_0."state",
        a1_0."street",
        a1_0."updatedAt",
        a1_0."zipCode" 
    from
        "users" u1_0 
    left join
        "addresses" a1_0 
            on u1_0."id"=a1_0."user_id" 
    where
        u1_0."id"=?
2025-11-12 18:28:02,214 DEBUG [http-nio-8081-exec-6] [trace=] [user=] org.hibernate.SQL - 
    select
        o1_0."user_id",
        o1_0."id",
        o1_0."createdAt",
        o1_0."delivery_address_id",
        o1_0."deliveryTime",
        o1_0."orderTime",
        o1_0."paymentId",
        o1_0."paymentMethod",
        o1_0."paymentStatus",
        o1_0."specialInstructions",
        o1_0."status",
        o1_0."totalAmount" 
    from
        "orders" o1_0 
    where
        o1_0."user_id"=?
2025-11-12 18:28:02,220 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.a.service.AuthenticationService -  OTP verification successful for phone: 9045394959, user ID: 1
2025-11-12 18:28:02,220 INFO  [http-nio-8081-exec-6] [trace=] [user=] c.t.auth.controller.AuthController -  OTP verification successful - Phone: 9045394959
2025-11-12 18:37:09,490 INFO  [background-preinit] [trace=] [user=] o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-11-12 18:37:09,533 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Starting TiffinApiApplication using Java 21.0.9 with PID 23396 (D:\Food Delivery app\tiffin-api\target\classes started by Tamoghna in D:\Food Delivery app\tiffin-api)
2025-11-12 18:37:09,534 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-12 18:37:10,287 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-12 18:37:10,381 INFO  [main] [trace=] [user=] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 15 JPA repository interfaces.
2025-11-12 18:37:10,848 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-11-12 18:37:10,860 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8081"]
2025-11-12 18:37:10,862 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-12 18:37:10,863 INFO  [main] [trace=] [user=] o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-11-12 18:37:10,918 INFO  [main] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-11-12 18:37:10,919 INFO  [main] [trace=] [user=] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1348 ms
2025-11-12 18:37:11,046 INFO  [main] [trace=] [user=] o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-12 18:37:11,100 INFO  [main] [trace=] [user=] org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.18.Final
2025-11-12 18:37:11,128 INFO  [main] [trace=] [user=] o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-12 18:37:11,328 INFO  [main] [trace=] [user=] o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-12 18:37:11,352 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Starting...
2025-11-12 18:37:11,481 INFO  [main] [trace=] [user=] com.zaxxer.hikari.pool.HikariPool - TiffinHikariCP - Added connection org.postgresql.jdbc.PgConnection@51141f64
2025-11-12 18:37:11,482 INFO  [main] [trace=] [user=] com.zaxxer.hikari.HikariDataSource - TiffinHikariCP - Start completed.
2025-11-12 18:37:11,555 INFO  [main] [trace=] [user=] o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (TiffinHikariCP)']
	Database driver: undefined/unknown
	Database version: 18.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-12 18:37:12,626 INFO  [main] [trace=] [user=] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-12 18:37:12,639 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-11-12 18:37:12,640 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       drop constraint if exists "FK1o3cf1oq29twu2e49lxh6u8pg"
2025-11-12 18:37:12,654 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       drop constraint if exists "FKkcjtpklna4ym5c19ym2pmjkuq"
2025-11-12 18:37:12,656 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       drop constraint if exists "FK8fenw11chwbd31jgayrx86vll"
2025-11-12 18:37:12,657 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       drop constraint if exists "FKsny3a8mx1j0x10oy32nbv53x0"
2025-11-12 18:37:12,658 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FKrnpho6nwth59gol8v9lyjb9sj"
2025-11-12 18:37:12,660 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       drop constraint if exists "FK6gg8woymk43fp55jtjlgkd1eh"
2025-11-12 18:37:12,660 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FK35r28bu0fnis2c0ed2pels2mb"
2025-11-12 18:37:12,661 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       drop constraint if exists "FKitd0598xtxfyrro0df4ey8kdd"
2025-11-12 18:37:12,661 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       drop constraint if exists "FK67d4njd6wxctoxt50x2j2ueyh"
2025-11-12 18:37:12,662 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "addresses" cascade
2025-11-12 18:37:12,678 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "customer_testimonials" cascade
2025-11-12 18:37:12,683 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_dietary_tags" cascade
2025-11-12 18:37:12,685 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dish_tags" cascade
2025-11-12 18:37:12,686 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "dishes" cascade
2025-11-12 18:37:12,690 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "featured_dishes" cascade
2025-11-12 18:37:12,690 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "landing_analytics" cascade
2025-11-12 18:37:12,691 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_points" cascade
2025-11-12 18:37:12,694 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "loyalty_transactions" cascade
2025-11-12 18:37:12,698 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plan_features" cascade
2025-11-12 18:37:12,699 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "membership_plans" cascade
2025-11-12 18:37:12,700 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "newsletter_subscriptions" cascade
2025-11-12 18:37:12,705 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "notifications" cascade
2025-11-12 18:37:12,706 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "order_items" cascade
2025-11-12 18:37:12,709 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "orders" cascade
2025-11-12 18:37:12,712 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "payments" cascade
2025-11-12 18:37:12,715 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "reviews" cascade
2025-11-12 18:37:12,719 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "uploaded_images" cascade
2025-11-12 18:37:12,724 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "user_memberships" cascade
2025-11-12 18:37:12,728 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    drop table if exists "users" cascade
2025-11-12 18:37:12,738 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "addresses" (
        "active" boolean not null,
        "isDefault" boolean not null,
        "latitude" float(53),
        "longitude" float(53),
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "user_id" bigint not null,
        "zipCode" varchar(20) not null,
        "apartment" varchar(100),
        "city" varchar(100) not null,
        "country" varchar(100) not null,
        "label" varchar(100) not null,
        "state" varchar(100) not null,
        "deliveryInstructions" varchar(500),
        "landmark" varchar(500),
        "street" varchar(255) not null,
        primary key ("id")
    )
2025-11-12 18:37:12,762 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "customer_testimonials" (
        "display_order" integer,
        "is_approved" boolean,
        "is_featured" boolean,
        "is_verified" boolean,
        "rating" integer not null check (("rating"<=5) and ("rating">=1)),
        "approved_at" timestamp(6),
        "created_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "user_id" bigint,
        "comment" varchar(1000) not null,
        "avatar_emoji" varchar(255),
        "customer_image_url" varchar(255),
        "customer_name" varchar(255) not null,
        "location" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,770 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_dietary_tags" (
        "dish_id" bigint not null,
        "dietary_tag" varchar(255)
    )
2025-11-12 18:37:12,772 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dish_tags" (
        "dish_id" bigint not null,
        "tag" varchar(255)
    )
2025-11-12 18:37:12,774 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "dishes" (
        "available" boolean,
        "calories" integer,
        "preparationTime" integer,
        "price" numeric(38,2) not null,
        "rating" float(53),
        "reviewCount" integer,
        "spicyLevel" integer,
        "id" bigint generated by default as identity,
        "cuisine" varchar(255),
        "description" varchar(255),
        "imageUrl" varchar(255),
        "name" varchar(255) not null,
        "type" varchar(255) not null check ("type" in ('VEG','NON_VEG')),
        primary key ("id")
    )
2025-11-12 18:37:12,781 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,789 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "featured_dishes" (
        "average_rating" numeric(2,1),
        "calories_per_serving" integer,
        "discounted_price" numeric(8,2),
        "display_order" integer,
        "is_available" boolean not null,
        "is_featured" boolean not null,
        "is_gluten_free" boolean not null,
        "is_popular" boolean not null,
        "is_vegan" boolean not null,
        "is_vegetarian" boolean not null,
        "preparation_time_minutes" integer,
        "price" numeric(8,2) not null,
        "total_reviews" integer not null,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "category" varchar(255),
        "cuisine_type" varchar(255),
        "description" "TEXT",
        "dish_name" varchar(255) not null,
        "image_url" varchar(255),
        "ingredients" "TEXT",
        "nutritional_info" "TEXT",
        "short_description" varchar(255),
        "spice_level" varchar(255),
        "tags" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 804]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 804
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:37:12,793 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,794 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "landing_analytics" (
        "click_x" integer,
        "click_y" integer,
        "latitude" float(53),
        "longitude" float(53),
        "scroll_percentage" integer,
        "time_on_page_seconds" integer,
        "created_at" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updated_at" timestamp(6),
        "user_id" bigint,
        "additional_data" "TEXT",
        "browser_name" varchar(255),
        "browser_version" varchar(255),
        "city" varchar(255),
        "country" varchar(255),
        "device_type" varchar(255),
        "element_id" varchar(255),
        "element_text" varchar(255),
        "event_category" varchar(255),
        "event_type" varchar(255) not null,
        "form_data" "TEXT",
        "ip_address" varchar(255),
        "operating_system" varchar(255),
        "page_section" varchar(255),
        "referrer" varchar(255),
        "region" varchar(255),
        "screen_resolution" varchar(255),
        "session_id" varchar(255),
        "user_agent" "TEXT",
        "utm_campaign" varchar(255),
        "utm_content" varchar(255),
        "utm_medium" varchar(255),
        "utm_source" varchar(255),
        "utm_term" varchar(255),
        "viewport_size" varchar(255),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 430]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 430
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:37:12,796 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_points" (
        "availablePoints" integer not null,
        "expiredPoints" integer not null,
        "lifetimeEarned" integer not null,
        "totalPoints" integer not null,
        "usedPoints" integer not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextTierDate" timestamp(6),
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "tier" varchar(255) not null check ("tier" in ('BRONZE','SILVER','GOLD','PLATINUM','DIAMOND')),
        primary key ("id")
    )
2025-11-12 18:37:12,801 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "loyalty_transactions" (
        "points" integer not null,
        "createdAt" timestamp(6) not null,
        "expiryDate" timestamp(6),
        "id" bigint generated by default as identity,
        "orderId" bigint,
        "userId" bigint not null,
        "description" varchar(255),
        "referenceId" varchar(255),
        "type" varchar(255) not null check ("type" in ('EARNED_ORDER','EARNED_REFERRAL','EARNED_BONUS','EARNED_REVIEW','REDEEMED_DISCOUNT','REDEEMED_DELIVERY','EXPIRED','ADJUSTMENT')),
        primary key ("id")
    )
2025-11-12 18:37:12,808 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plan_features" (
        "plan_id" bigint not null,
        "feature" varchar(255)
    )
2025-11-12 18:37:12,811 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )
2025-11-12 18:37:12,813 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "membership_plans" (
        "deliveryDiscount" numeric(5,2),
        "earlyAccess" boolean not null,
        "exclusiveDeals" boolean not null,
        "foodDiscount" numeric(5,2),
        "freeDelivery" boolean not null,
        "isActive" boolean not null,
        "isFeatured" boolean not null,
        "loyaltyBonusMultiplier" boolean not null,
        "loyaltyMultiplier" numeric(3,2),
        "maxCancellations" integer,
        "maxDeliveries" integer not null,
        "maxOrders" integer not null,
        "monthlyPrice" numeric(10,2) not null,
        "priorityDeliveryMinutes" integer,
        "prioritySupport" boolean not null,
        "yearlyDiscount" numeric(5,2),
        "yearlyPrice" numeric(10,2) not null,
        "createdAt" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6) not null,
        "color" varchar(255),
        "description" "TEXT",
        "displayName" varchar(255) not null,
        "iconUrl" varchar(255),
        "name" varchar(255) not null unique,
        "tier" varchar(255) not null check ("tier" in ('FREE','BASIC','PREMIUM','VIP','ENTERPRISE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 961]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 961
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:37:12,815 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "newsletter_subscriptions" (
        "is_active" boolean,
        "id" bigint generated by default as identity,
        "subscribed_at" timestamp(6) not null,
        "email" varchar(255) not null unique,
        "ip_address" varchar(255),
        "source" varchar(255),
        "user_agent" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,824 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )
2025-11-12 18:37:12,825 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    create table "notifications" (
        "read_status" boolean not null,
        "created_at" timestamp(6) not null,
        "delivery_id" bigint,
        "expires_at" timestamp(6),
        "id" bigint generated by default as identity,
        "order_id" bigint,
        "read_at" timestamp(6),
        "user_id" bigint not null,
        "title" varchar(200) not null,
        "message" "TEXT" not null,
        "metadata" "TEXT",
        "priority" varchar(255) not null check ("priority" in ('LOW','NORMAL','HIGH','URGENT')),
        "type" varchar(255) not null check ("type" in ('ORDER_PLACED','ORDER_CONFIRMED','ORDER_PREPARING','ORDER_READY','ORDER_PICKED_UP','ORDER_OUT_FOR_DELIVERY','ORDER_DELIVERED','ORDER_CANCELLED','PAYMENT_SUCCESS','PAYMENT_FAILED','PAYMENT_REFUND','DELIVERY_LOCATION_UPDATE','DELIVERY_DELAY','DELIVERY_PARTNER_ASSIGNED','PROMOTION','DISCOUNT_AVAILABLE','SYSTEM_ANNOUNCEMENT','MAINTENANCE_SCHEDULED','SUBSCRIPTION_REMINDER','SUBSCRIPTION_EXPIRED','LOYALTY_POINTS_EARNED','LOYALTY_REWARD_AVAILABLE','REVIEW_REQUEST','CHAT_MESSAGE','FRIEND_RECOMMENDATION','SECURITY_ALERT','LOGIN_ALERT','PASSWORD_CHANGED','PROFILE_UPDATED','NEW_ORDER_RESTAURANT','ORDER_CANCELLED_RESTAURANT','MENU_UPDATE_APPROVED','DELIVERY_REQUEST','DELIVERY_COMPLETED','EARNINGS_UPDATE')),
        primary key ("id")
    )" via JDBC [ERROR: type "TEXT" does not exist
  Position: 402]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createTables(SchemaCreatorImpl.java:430)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createSequencesTablesConstraints(SchemaCreatorImpl.java:346)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: type "TEXT" does not exist
  Position: 402
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 39 common frames omitted
2025-11-12 18:37:12,827 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "order_items" (
        "quantity" integer not null,
        "totalPrice" numeric(38,2) not null,
        "unitPrice" numeric(38,2) not null,
        "dish_id" bigint not null,
        "id" bigint generated by default as identity,
        "order_id" bigint not null,
        primary key ("id")
    )
2025-11-12 18:37:12,831 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "orders" (
        "totalAmount" numeric(38,2) not null,
        "createdAt" timestamp(6) not null,
        "deliveryTime" timestamp(6),
        "delivery_address_id" bigint,
        "id" bigint generated by default as identity,
        "orderTime" timestamp(6) not null,
        "user_id" bigint,
        "paymentId" varchar(255),
        "paymentMethod" varchar(255) not null check ("paymentMethod" in ('UPI','CARD','WALLET','COD')),
        "paymentStatus" varchar(255) not null,
        "specialInstructions" varchar(255),
        "status" varchar(255) not null check ("status" in ('PENDING','CONFIRMED','PREPARING','OUT_FOR_DELIVERY','DELIVERED','CANCELLED')),
        primary key ("id")
    )
2025-11-12 18:37:12,840 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "payments" (
        "amount" numeric(38,2),
        "createdAt" timestamp(6),
        "updatedAt" timestamp(6),
        "currency" varchar(255),
        "failureReason" varchar(255),
        "id" varchar(255) not null,
        "orderId" varchar(255),
        "paymentMethod" varchar(255),
        "paymentMethodDetails" varchar(255),
        "receiptUrl" varchar(255),
        "status" varchar(255),
        "transactionId" varchar(255),
        "userId" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,845 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "reviews" (
        "isVerifiedOrder" boolean not null,
        "rating" integer not null,
        "createdAt" timestamp(6),
        "dishId" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "comment" varchar(255),
        "userId" varchar(255),
        "userName" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,851 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "uploaded_images" (
        "fileSize" bigint,
        "id" bigint generated by default as identity,
        "updatedAt" timestamp(6),
        "uploadedAt" timestamp(6),
        "category" varchar(50) not null,
        "contentType" varchar(100),
        "image_id" varchar(100) not null,
        "filename" varchar(255) not null,
        "fileData" "bytea",
        primary key ("id"),
        unique ("category", "image_id")
    )
2025-11-12 18:37:12,858 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "user_memberships" (
        "autoRenewal" boolean not null,
        "cancellationsUsed" integer not null,
        "deliveriesUsed" integer not null,
        "discountAmount" numeric(10,2),
        "ordersUsed" integer not null,
        "paidAmount" numeric(10,2) not null,
        "totalSavings" numeric(12,2) not null,
        "cancelledAt" timestamp(6),
        "createdAt" timestamp(6) not null,
        "endDate" timestamp(6) not null,
        "id" bigint generated by default as identity,
        "nextBillingDate" timestamp(6),
        "plan_id" bigint not null,
        "startDate" timestamp(6) not null,
        "updatedAt" timestamp(6) not null,
        "userId" bigint not null,
        "billingCycle" varchar(255) not null check ("billingCycle" in ('MONTHLY','YEARLY')),
        "cancellationReason" varchar(255),
        "paymentTransactionId" varchar(255),
        "promoCode" varchar(255),
        "status" varchar(255) not null check ("status" in ('ACTIVE','EXPIRED','CANCELLED','SUSPENDED','PENDING_PAYMENT','TRIAL')),
        primary key ("id")
    )
2025-11-12 18:37:12,867 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create table "users" (
        "active" boolean,
        "emailVerified" boolean,
        "phoneVerified" boolean,
        "createdAt" timestamp(6),
        "id" bigint generated by default as identity,
        "lastLoginAt" timestamp(6),
        "updatedAt" timestamp(6),
        "preferredLanguage" varchar(10),
        "phoneNumber" varchar(15) unique,
        "role" varchar(20) not null check ("role" in ('USER','PREMIUM_USER','DELIVERY_PERSON','RESTAURANT_PARTNER','ADMIN','SUPER_ADMIN')),
        "firstName" varchar(50),
        "lastName" varchar(50),
        "email" varchar(100) not null unique,
        "password" varchar(255) not null,
        "profileImageUrl" varchar(255),
        primary key ("id")
    )
2025-11-12 18:37:12,878 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_user 
       on "addresses" ("user_id")
2025-11-12 18:37:12,880 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_address_default 
       on "addresses" ("user_id", "isDefault")
2025-11-12 18:37:12,883 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_email 
       on "users" ("email")
2025-11-12 18:37:12,885 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_phone 
       on "users" ("phoneNumber")
2025-11-12 18:37:12,888 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    create index idx_user_role 
       on "users" ("role")
2025-11-12 18:37:12,890 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "addresses" 
       add constraint "FK1o3cf1oq29twu2e49lxh6u8pg" 
       foreign key ("user_id") 
       references "users"
2025-11-12 18:37:12,900 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_dietary_tags" 
       add constraint "FKkcjtpklna4ym5c19ym2pmjkuq" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:37:12,902 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "dish_tags" 
       add constraint "FK8fenw11chwbd31jgayrx86vll" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:37:12,904 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 18:37:12,905 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "membership_plan_features" 
       add constraint "FKsny3a8mx1j0x10oy32nbv53x0" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 18:37:12,906 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FKrnpho6nwth59gol8v9lyjb9sj" 
       foreign key ("dish_id") 
       references "dishes"
2025-11-12 18:37:12,908 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "order_items" 
       add constraint "FK6gg8woymk43fp55jtjlgkd1eh" 
       foreign key ("order_id") 
       references "orders"
2025-11-12 18:37:12,910 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FK35r28bu0fnis2c0ed2pels2mb" 
       foreign key ("delivery_address_id") 
       references "addresses"
2025-11-12 18:37:12,911 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "orders" 
       add constraint "FKitd0598xtxfyrro0df4ey8kdd" 
       foreign key ("user_id") 
       references "users"
2025-11-12 18:37:12,912 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"
2025-11-12 18:37:12,912 WARN  [main] [trace=] [user=] o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table if exists "user_memberships" 
       add constraint "FK67d4njd6wxctoxt50x2j2ueyh" 
       foreign key ("plan_id") 
       references "membership_plans"" via JDBC [ERROR: relation "membership_plans" does not exist]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233)
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:217)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createForeignKeys(SchemaCreatorImpl.java:307)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:253)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:174)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:144)
	at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:120)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:250)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tiffin.TiffinApiApplication.main(TiffinApiApplication.java:10)
Caused by: org.postgresql.util.PSQLException: ERROR: relation "membership_plans" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:357)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:342)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:318)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:313)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 38 common frames omitted
2025-11-12 18:37:12,916 INFO  [main] [trace=] [user=] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-12 18:37:13,153 INFO  [main] [trace=] [user=] o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-12 18:37:16,825 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Initializing Razorpay client with key: rzp_****p8IS in test environment
2025-11-12 18:37:16,826 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay configuration validated successfully
2025-11-12 18:37:16,946 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Configured Razorpay client timeout: 30000 ms
2025-11-12 18:37:16,946 INFO  [main] [trace=] [user=] com.tiffin.config.RazorpayConfig - Razorpay client initialized successfully
2025-11-12 18:37:17,207 INFO  [main] [trace=] [user=] o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-11-12 18:37:17,479 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-11-12 18:37:17,480 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@78a90c1e]]
2025-11-12 18:37:17,481 INFO  [main] [trace=] [user=] o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-11-12 18:37:17,481 INFO  [main] [trace=] [user=] o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8081"]
2025-11-12 18:37:17,508 INFO  [main] [trace=] [user=] o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-11-12 18:37:17,514 INFO  [main] [trace=] [user=] com.tiffin.TiffinApiApplication - Started TiffinApiApplication in 8.607 seconds (process running for 8.948)
2025-11-12 18:37:17,600 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:37:17,625 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  No logo found, creating default TiffinApp logo...
2025-11-12 18:37:17,645 DEBUG [main] [trace=] [user=] org.hibernate.SQL - 
    insert 
    into
        "uploaded_images"
        ("category", "contentType", "fileData", "fileSize", "filename", "image_id", "updatedAt", "uploadedAt") 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-11-12 18:37:17,666 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default TiffinApp logo saved to database
2025-11-12 18:37:17,666 INFO  [main] [trace=] [user=] com.tiffin.config.LogoInitializer -  Default logo created successfully!
2025-11-12 18:38:17,811 INFO  [MessageBroker-1] [trace=] [user=] o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-11-12 18:38:23,520 INFO  [http-nio-8081-exec-2] [trace=] [user=] o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-12 18:38:23,520 INFO  [http-nio-8081-exec-2] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-12 18:38:23,653 INFO  [http-nio-8081-exec-2] [trace=] [user=] o.s.web.servlet.DispatcherServlet - Completed initialization in 133 ms
2025-11-12 18:38:24,417 DEBUG [http-nio-8081-exec-1] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:38:24,653 DEBUG [http-nio-8081-exec-2] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:38:24,675 WARN  [http-nio-8081-exec-2] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 18:39:18,321 DEBUG [http-nio-8081-exec-4] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:39:18,321 DEBUG [http-nio-8081-exec-3] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:39:18,418 WARN  [http-nio-8081-exec-4] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
2025-11-12 18:40:07,618 DEBUG [http-nio-8081-exec-9] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    order by
        ui1_0."category",
        ui1_0."uploadedAt" desc
2025-11-12 18:40:07,642 DEBUG [http-nio-8081-exec-5] [trace=] [user=] org.hibernate.SQL - 
    select
        ui1_0."id",
        ui1_0."category",
        ui1_0."contentType",
        ui1_0."fileData",
        ui1_0."fileSize",
        ui1_0."filename",
        ui1_0."image_id",
        ui1_0."updatedAt",
        ui1_0."uploadedAt" 
    from
        "uploaded_images" ui1_0 
    where
        ui1_0."category"=? 
        and ui1_0."image_id"=?
2025-11-12 18:40:07,701 WARN  [http-nio-8081-exec-5] [trace=] [user=] c.t.s.controller.ImageController -  Image not found: category=branding, imageId=favicon
