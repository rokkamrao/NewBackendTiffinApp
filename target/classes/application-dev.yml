# Development configuration for Tiffin API
spring:
  datasource:
    url: jdbc:postgresql://localhost:5432/tiffindb_dev
    username: ${DATABASE_USERNAME:postgres}
    password: ${DATABASE_PASSWORD:postgres}
    driver-class-name: org.postgresql.Driver
    hikari:
      maximum-pool-size: 10
      minimum-idle: 2
      connection-timeout: 30000

  jpa:
    hibernate:
      ddl-auto: update  # Safe for development
      naming:
        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
    show-sql: true  # Helpful for development
    properties:
      hibernate:
        format_sql: true
        globally_quoted_identifiers: true
        generate_statistics: true
    open-in-view: false

  security:
    user:
      name: dev
      password: dev123

  devtools:
    livereload:
      enabled: true
    restart:
      enabled: true

server:
  port: 8081
  servlet:
    context-path: /api
  error:
    include-stacktrace: always  # Helpful for debugging
    include-exception: true
    include-binding-errors: always

# Development application configuration
app:
  jwt:
    secret: dev-tiffin-app-secret-key-for-development-only-not-secure
    expiration: 86400000  # 24 hours for development
  cors:
    allowed-origins: http://localhost:4200,http://localhost:3000,http://localhost:8080
  razorpay:
    key-id: ${RAZORPAY_KEY_ID:rzp_test_RXfBZEH79up8IS}
    key-secret: ${RAZORPAY_KEY_SECRET:7LIcTuyMg7vc35HgAJrVK0cW}
    webhook-secret: ${RAZORPAY_WEBHOOK_SECRET:dev_webhook_secret}
  environment: development

# Verbose logging for development
logging:
  level:
    com.tiffin: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.springframework.web: DEBUG
    org.springframework.transaction: DEBUG
  pattern:
    console: "%d{HH:mm:ss.SSS} [%thread] %-5level [%X{traceId}] %logger{36} - %msg%n"

# Full monitoring for development
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
    shutdown:
      enabled: true

# Development info
info:
  app:
    name: Tiffin API
    description: Food delivery platform API - Development Environment
    version: '0.0.1-SNAPSHOT'
    profile: development
    features:
      - "Live reload enabled"
      - "Full SQL logging"
      - "All actuator endpoints exposed"
      - "Detailed error messages"